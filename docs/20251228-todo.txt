------------------------------------------------------------------------------
------------------------------------------------------------------------------
------------------------------------------------------------------------------
TO DO
------------------------------------------------------------------------------

related to player name:

player name

add to end of level stats...done

add very small text name above player..done
how to make this optional...
how about only remote players have the label? I like that!!

------------------------------------------------------------------------------
I have beed think about redoing how I save gm files to disk
currently:
nothing but unordered integers, one per line

1320
0
0
0
9
1
9
0
5
1
3
0
0
1
8389888
1802398064
7602297
1
8392193
1819043193
7602287
13
5
1
4
17
5
1
0

I was thinking of making it like this:

1320
0,0,0,9
1,9,0,5
1,3,0,0
1,8389888,1802398064,7602297
1,8392193,1819043193,7602287
13,5,1,4
17,5,1,0

it should not take more disk space
I would just be swapping crlf for ,

when saved on windows the lines end with CRLF
in linux its just LF

if I make this change, what would it affect?
-only the game saves and loads to disk,
-once loaded into the array the way it is stored on disk is irrelevant
-it would make it easier to parse later
-----------------------------------------------------------------------------
I have another crazy idea

integrate a database into the game

- i need to make sure that windows and linux versions are still the same
- do I need a networked database like mysql? could i just use sqlite?

why?
what are the benefits:
- make the way the server writes files to disk and later gets scraped a lot simpler
- the server can just write directly to the database
- make the way to adjust the config from headless mode
- replace so much of the level stats bullshit with something much simpler

cons:
would take a lot of fucking work!!

how can i start small?

add sqlite to project and make sure it works in windows and linux
then start adding things to it

first of all, sessions




































------------------------------------------------------------------------------
------------------------------------------------------------------------------

------------------------------------------------------------------------------
find players in save game
------------------------------------------------------------------------------
make new table player names (unique with ip, hostname, color???)
------------------------------------------------------------------------------
add players from sessions and gm
------------------------------------------------------------------------------


----------------------------------------------
I can also show players in gm table now!!!


I could also make a table of players

then just link them to sessions and gm's !!!!





-------------------------------------------------------------
while I am scraping gm's, I open the file to find the last frame

I was thinking of doing more at that time

- delete file if they contain no game moves or are less than 1s

finding all of the players in the game file

entering them into my new table players (if they do not already exist)
and making links from this gm to the players in another table



















------------------------------------------------------------------------------
make a way of cleaning up log files periodically
-----------------------------------------------------------------------------

------------------------------------------------------------------------------
do something about the script that links gm's and sessions
------------------------------------------------------------------------------

------------------------------------------------------------------------------

------------------------------------------------------------------------------


------------------------------------------------------------------------------
------------------------------------------------------------------------------
even if I change servers, I want to always keep all the sessions and games files
never lose them!!

when I add player name to sessions, do not lose old data...


------------------------------------------------------------------------------


------------------------------------------------------------------------------
make a way to change settings on remote server
I mean, I have a way, but is it a good way?
what if I get the settings.pm file from the server
edit it and send it back
how big is it? settings.pm is 8K
------------------------------------------------------------------------------
------------------------------------------------------------------------------
------------------------------------------------------------------------------






------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------
---------------------   DONE   -----------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------

show the player name and color in sessions table, maybe even a little player icon

player name and icon of current session



------------------------------------------------------------------------------
------------------------------------------------------------------------------
show buttons instead of links for sessions table filter
------------------------------------------------------------------------------
top navigation row
------------------------------------------------------------------------------
buttons to filter current session info

move all of sessions section code to php file
includes to all be at top
include to just include function not actually show until function is called
done...



implement player name (Do it Fool!) ... did it fool !!!
Im thinking a fixed length of 8 char max
add it to the player structure
whe a pleyer joins the game move will now need the player name
and it will need to be passed with the join packet
set it in setting, if not set, have it set to 'default' and translate that to "Player 1" etc...
when I do that, I would like to save the player name in more places
like in the game moves files


------------------------------------------------------------------------------
------------------------------------------------------------------------------
------------------------------------------------------------------------------

I want to change the directory structure of my project.
docs will now have all the doss
web will now have the webpage
the only reason I changed it was because github was hosting my page...
At the time it seemed like a good idea to have a free host site for my project docs
but now that I have my own server, I don't care about that anymore
change hard link in pmhelp


------------------------------------------------------------------------------

rename the godmamn scrape shit
put them in their own dir

Directory of C:\pm\scrape
2025-12-30  09:55 AM             1,841 scrape_gm.php
2024-07-14  10:28 PM               815 scrape_net
2025-12-29  12:12 AM             7,611 scrape_session.php
2024-07-14  10:28 PM               839 scrape_status
rename the cron shit: done


------------------------------------------------------------------------------
document logging better
make a folder called logging..done
------------------------------------------------------------------------------

make a variable or 2 to kill log_net and log_status

#define LOG_OTH_draw               54
#define LOG_NET_CSV                66

   i = LOG_OTH_draw;                log_types[i].group = 3;   strcpy(log_types[i].name, "LOG_OTH_draw");
   i = LOG_NET_CSV;                 log_types[i].group = 3;   strcpy(log_types[i].name, "LOG_NET_CSV"); log_types[i].action = 0;

now it shows up at the bottom of OTH
it is off by default

try this....

------------------------------------------------------------------------------

finish the notes about how to create server
see if I have the right php permissions
the answer is yes!!!
redo everything
------------------------------------------------------------------------------
fix the php scripts..done..now deploy to live server
------------------------------------------------------------------------------

exclude scrapes from git backup
in .gitignore
/scrape_cronoutput.txt
/scrape_status_cronoutput.txt
/session_scrape_cronoutput.txt

























------------------------------------------------------------------------------
------------------------------------------------------------------------------
------------------------------------------------------------------------------
crazy ideas that I probably will never do
------------------------------------------------------------------------------


------------------------------------------------------------------------------
Qt WASM 
allegro in browser also
------------------------------------------------------------------------------




it is a little convoluted how I do session logs
save them to disk, then process them periodically with cron and php
in conjunction with database..
if I could just do all that from the server and C++ and a database connection it could be much simpler
I have not done that beacuse I did not want to tie up the server
but really, how much overhead could it take to enter a few things in a database
is there really any reason to use mysql? why do I need remote network access to the database
anything the webpage shows will be on the same physical machine
------------------------------------------------------------------------------
I also would like a meta block for gm files
I have one already, but I want a better one
append at the start when saving
start time
end time
duration
players
player names
finished?

maybe each player section could include:
name
number
color
start frame
end frame
respawns
purple coins collected
enemies killed
other players killed
enemy hits
self hits
exits triggered

